<script>
window.addEventListener("message", async e => {
    if (e.source !== window.parent) return
    const resp = await fetch(e.data.url).then(r => r.text())
    window.parent.postMessage({
      requestId: e.data.requestId,
      data: resp
    })
  },
  false,
);
// send the ready message periodically because i think it gets eated :c
setInterval(() => {
  console.log("sending ready message")
  window.parent.postMessage({ready: "true"})
}, 1000)
</script>
